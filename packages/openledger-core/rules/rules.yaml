# OpenLedger Rules Configuration
# Defines known data usage patterns and their compliance requirements

rules:
  - match:
      endpoint: "GET /api/transactions"
      fields: ["amount", "merchant", "category", "date"]
    purpose: "budgeting"
    gate: "txn_category"
    retention: "12m"
    data_category: "financial_transaction"
    description: "Transaction categorization for budgeting insights"

  - match:
      endpoint: "GET /api/account"
      fields: ["name", "email", "phone", "address"]
    purpose: "account_management"
    gate: "acct_profile"
    retention: "24m"
    data_category: "personal_information"
    description: "Account profile information for user management"

  - match:
      endpoint: "POST /api/transactions"
      fields: ["amount", "merchant", "category"]
    purpose: "transaction_processing"
    gate: "txn_category"
    retention: "7y"
    data_category: "financial_transaction"
    description: "Processing new transactions for categorization"

  - match:
      endpoint: "GET /api/analytics"
      fields: ["spending_patterns", "category_trends", "monthly_totals"]
    purpose: "analytics"
    gate: "txn_category"
    retention: "36m"
    data_category: "analytical_data"
    description: "Spending analytics and trend analysis"

  - match:
      endpoint: "GET /api/recommendations"
      fields: ["merchant", "category", "amount", "frequency"]
    purpose: "recommendations"
    gate: "txn_category"
    retention: "6m"
    data_category: "behavioral_data"
    description: "Personalized spending recommendations"
